[custom]

; =======================
; Rule Sets (priority: top -> bottom)
; =======================

; --- Block IPv6 ---
ruleset=🛑 Block IPv6,[]IP-CIDR6,::/0,no-resolve

; --- SCRM Champion (macOS process path + name + domains + STUN/port) ---
ruleset=🧾 SCRM Champion,[]PROCESS-PATH,/Applications/SCRM Champion.app/Contents/MacOS/SCRM Champion
ruleset=🧾 SCRM Champion,[]PROCESS-PATH,/Applications/SCRM Champion.app/Contents/MacOS/SCRM Champion Helper
ruleset=🧾 SCRM Champion,[]PROCESS-NAME,SCRM Champion
ruleset=🧾 SCRM Champion,[]PROCESS-NAME,SCRM Champion Helper
ruleset=🧾 SCRM Champion,[]DOMAIN-SUFFIX,scrmchampion.com
ruleset=🧾 SCRM Champion,[]DOMAIN-SUFFIX,oss.scrmchampion.com
ruleset=🧾 SCRM Champion,[]DOMAIN-SUFFIX,browserscan.net
ruleset=🧾 SCRM Champion,[]DOMAIN-SUFFIX,freeipapi.com
ruleset=🧾 SCRM Champion,[]DOMAIN-SUFFIX,ip.sb
ruleset=🧾 SCRM Champion,[]DOMAIN-SUFFIX,miwifi.com
ruleset=🧾 SCRM Champion,[]DOMAIN-KEYWORD,stun
ruleset=🧾 SCRM Champion,[]DST-PORT,3478
ruleset=🧾 SCRM Champion,[]IP-CIDR,198.18.0.0/15,no-resolve

; --- App / Service specific ---
ruleset=🎵 TikTok,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/TikTok/TikTok.yaml
ruleset=🎥 Netflix,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.yaml
ruleset=🤖 OpenAI,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OpenAI/OpenAI.yaml
ruleset=🧠 AI,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/AI/AI.yaml
ruleset=🎮 Game,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Game/Game.yaml

; --- Direct for CN/LAN ---
ruleset=🎯 Direct,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Lan/Lan.yaml
ruleset=🎯 Direct,clash-classic:https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list
ruleset=🎯 Direct,clash-classic:https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/GoogleCN.list
ruleset=🎯 Direct,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/AppleCN.yaml
ruleset=🎯 Direct,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/MicrosoftCN.yaml
ruleset=🎯 Direct,[]GEOIP,CN

; --- Final ---
ruleset=🐟 Final,[]FINAL


; =======================
; Proxy Groups
; =======================

; Proxy (NO DIRECT) + include ALL nodes with filter to hide "traffic/expire" fake nodes
custom_proxy_group=🚀 Proxy`select`[]🇭🇰 HK`[]🇹🇼 TW`[]🇯🇵 JP`[]🇸🇬 SG`[]🇺🇸 US`(?i)^(?!.*(流量|剩余|到期|到期时间|重置|公告|提示|套餐|试用|测速|Expire|Traffic|Bandwidth|Plan|Reset)).*

; Country groups (no DIRECT inside)
custom_proxy_group=🇭🇰 HK`select`(港|HK|Hong Kong)
custom_proxy_group=🇹🇼 TW`select`(台|新北|彰化|TW|Taiwan)
custom_proxy_group=🇯🇵 JP`select`(日|JP|Japan|东京|大阪)
custom_proxy_group=🇸🇬 SG`select`(新|坡|狮城|SG|Singapore)
custom_proxy_group=🇺🇸 US`select`(美|US|United States|洛杉矶|芝加哥|硅谷|达拉斯|西雅图|纽约)

; Target groups (choose Proxy / countries / DIRECT)
custom_proxy_group=🛑 Block IPv6`select`[]REJECT
custom_proxy_group=🧾 SCRM Champion`select`[]🚀 Proxy`[]🇭🇰 HK`[]🇸🇬 SG`[]🇯🇵 JP`[]🇺🇸 US`[]🇹🇼 TW`[]DIRECT
custom_proxy_group=🎵 TikTok`select`[]🚀 Proxy`[]🇭🇰 HK`[]🇹🇼 TW`[]🇯🇵 JP`[]🇸🇬 SG`[]🇺🇸 US`[]DIRECT
custom_proxy_group=🎥 Netflix`select`[]🚀 Proxy`[]🇭🇰 HK`[]🇹🇼 TW`[]🇯🇵 JP`[]🇸🇬 SG`[]🇺🇸 US`[]DIRECT
custom_proxy_group=🤖 OpenAI`select`[]🚀 Proxy`[]🇭🇰 HK`[]🇹🇼 TW`[]🇯🇵 JP`[]🇸🇬 SG`[]🇺🇸 US`[]DIRECT
custom_proxy_group=🧠 AI`select`[]🚀 Proxy`[]🇭🇰 HK`[]🇹🇼 TW`[]🇯🇵 JP`[]🇸🇬 SG`[]🇺🇸 US`[]DIRECT
custom_proxy_group=🎮 Game`select`[]🚀 Proxy`[]🇭🇰 HK`[]🇹🇼 TW`[]🇯🇵 JP`[]🇸🇬 SG`[]🇺🇸 US`[]DIRECT
custom_proxy_group=🎯 Direct`select`[]DIRECT`[]🚀 Proxy`[]🇭🇰 HK`[]🇹🇼 TW`[]🇯🇵 JP`[]🇸🇬 SG`[]🇺🇸 US
custom_proxy_group=🐟 Final`select`[]🚀 Proxy`[]🇭🇰 HK`[]🇹🇼 TW`[]🇯🇵 JP`[]🇸🇬 SG`[]🇺🇸 US`[]DIRECT

enable_rule_generator=true
overwrite_original_rules=true
